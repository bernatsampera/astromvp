---
import '~/assets/styles/tailwind.css';

import {I18N} from 'astromvp:config';

import CommonMeta from '~/components/common/CommonMeta.astro';
import Favicons from '~/components/Favicons.astro';
import Metadata from '~/components/common/Metadata.astro';
import BasicScripts from '~/components/common/BasicScripts.astro';

import {ViewTransitions} from 'astro:transitions';

import type {MetaData as MetaDataType} from '~/types';

export interface Props {
  metadata?: MetaDataType;
}

const {metadata = {}} = Astro.props;
const {language, textDirection} = I18N;
---

<!doctype html>
<html lang={language} dir={textDirection} data-theme="lofi">
  <head>
    <CommonMeta />
    <Favicons />
    <Metadata {...metadata} />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <ViewTransitions fallback="swap" />
    
    <style is:global>
      html {
        font-family: 'Inter', sans-serif;
        scroll-behavior: smooth;
      }
      
      body {
        margin: 0;
        padding: 0;
        font-feature-settings: "calt" 1, "kern" 1;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      img {
        content-visibility: auto;
      }
    </style>
  </head>

  <body>
    <slot />
    <BasicScripts />
  </body>
</html>
